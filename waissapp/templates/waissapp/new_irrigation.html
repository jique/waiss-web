{% extends 'waissapp/index.html'%}
{% load static %}
{% load crispy_forms_tags %}

{% block meta_block %}
  <title>Welcome!</title>
{% endblock %}

{% block top_script_block %}
{% endblock %}

{% block dashboard_block %}
  <!-- Topbar -->
  <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
    <div class="sidebar-brand d-flex align-items-center justify-content-left" href="index.html">
      <div class="sidebar-brand-icon">
        <a href="{% url 'waiss:index' %}"><img src={% static "theme/waiss_logo.png" %} width=50px height=50px></a>
      </div>
      <div class="sidebar-brand-text mx-3">WAISS</div>
    </div>
    <!-- Topbar Navbar -->
    <ul class="navbar-nav ml-auto">
      
      <!-- Nav Item - Search Dropdown (Visible Only XS) -->
      <li class="nav-item dropdown no-arrow d-sm-none">
        <a class="nav-link dropdown-toggle" href="" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-search fa-fw"></i>
        </a>
        <!-- Dropdown - Messages -->
        <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
          <form class="form-inline mr-auto w-100 navbar-search">
            <div class="input-group">
              <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button">
                  <i class="fas fa-search fa-sm"></i>
                </button>
              </div>
            </div>
          </form>
        </div>
      </li>

      <!-- Nav Item - Alerts -->
      <li class="nav-item dropdown no-arrow mx-1">
        <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-bell fa-fw"></i>
          <!-- Counter - Alerts -->
          <span class="badge badge-danger badge-counter">3+</span>
        </a>
        <!-- Dropdown - Alerts -->
        <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
          <h6 class="dropdown-header">
            Alerts Center
          </h6>
          <a class="dropdown-item d-flex align-items-center" href="#">
            <div class="mr-3">
              <div class="icon-circle bg-primary">
                <i class="fas fa-file-alt text-white"></i>
              </div>
            </div>
            <div>
              <div class="small text-gray-500">December 12, 2019</div>
              <span class="font-weight-bold">A new monthly report is ready to download!</span>
            </div>
          </a>
          <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
        </div>
      </li>

    <!-- Nav Item - Messages -->
    <li class="nav-item">
      <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fas fa-envelope fa-fw"></i>
        <!-- Counter - Messages -->
        <span class="badge badge-danger badge-counter">5+</span>
      </a>
      <!-- Dropdown - Messages -->
      <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="messagesDropdown">
        <h6 class="dropdown-header">
          Message Center
        </h6>
        {% for msgs in final_list %}
        <a class="dropdown-item d-flex align-items-center" href={% url 'waiss:view-conversation' msgs.number %}>
          <div class="mr-3">
            <div class="icon-circle bg-primary">
              <i class="fas fa-file-alt text-white"></i>
            </div>
          </div>
          <div>
            <div class="small text-gray-500">{{msgs.timestamp}}</div>
            <span class="small font-weight-bold">{{msgs.msg}}</span>
          </div>
        </a>
        {% endfor %}
        <a class="dropdown-item text-center small text-gray-500" href="{% url 'waiss:messages' %}">Show All Alerts</a>
      </div>
    </li>

      <div class="topbar-divider d-none d-sm-block"></div>

      <!-- Nav Item - User Information -->
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="mr-2 d-none d-lg-inline text-gray-600 small">Valerie Luna</span>
          <img class="img-profile rounded-circle" src="https://source.unsplash.com/QAB-WJcbgJk/60x60">
        </a>
        <!-- Dropdown - User Information -->
        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
          <a class="dropdown-item" href="#">
            <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
            Profile
          </a>
          <a class="dropdown-item" href="#">
            <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
            Settings
          </a>
          <a class="dropdown-item" href="#">
            <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
            Activity Log
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
            <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
            Logout
          </a>
        </div>
      </li>
    </ul>
  </nav>
{% endblock %}
{% block main_block %}
<div class="container-fluid">
  <!-- Outer Row -->
  <div class="row justify-content-center">
    <div class="col-9">
      <div class="card">
        <div class="p-5">
          <h4 class="display-4" style="font-size: 35px;">Let's get started!</h4>
          <p class="lead" style="font-size: 15px;">Input required information for each parameters.</p>
          <div class="progress_bar">
              <div class="pro-bar">
                  <small class="progress_bar_title">
                    Farm | Personnel | Crop | Soil | <span style="color: #1abc9c; font-size: large;"><b> Irrigation</b></span>
                    <span class="progress_number">50%</span>
                  </small>
                  <span class="progress-bar-inner" style="background-color: #1abc9c; width: 50%;" data-value="50" data-percentage-value="50"></span>
              </div>
          </div>
            <div class="card">
              <div class="card-header">
                  <small>Select from the 5 types of suface irrigation. Fillout required specifications.</small>
              </div>
              <div class="card-body">
                <div class="card-body">
                  <div class="col">{{ irrigation_form.name|as_crispy_field}}</div>
                  <div class="col">{{ irrigation_form.irrigation_system_type|as_crispy_field}}</div>
                  <div class="col">{{ irrigation_form.discharge|as_crispy_field}}</div>
                  <div class="col">{{ irrigation_form.emitter_discharge|as_crispy_field }}</div>
                  <div class="col">{{ irrigation_form.ea|as_crispy_field}}</div>
                  <div class="col">{{ irrigation_form.area_slope|as_crispy_field}}</div>
                  <div class="col">{{ irrigation_form.mannings_coeff|as_crispy_field}}</div>
                  <div class="row">
                    <div class="col">
                    </div>
                    <div class="col-8">
                      <small>Common Manning's (retardance) coefficient <br>
                        &emsp;&emsp;<b>Surface</b> &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<b>n</b><br>
                        &emsp;&emsp;Smooth, ban soil surfaces noncultivated, oil-mulch treated citrus	&emsp;&emsp;&emsp;&emsp;0.04 <br>
                        &emsp;&emsp;Small grain, drill rows parallel to border strip &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp; 0.10<br>
                        &emsp;&emsp;Alfalfa, mint, broadcast small grain and similar crops	&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; 0.15 <br>
                        &emsp;&emsp;Dense sod crops, small grain with drill rows across the border strip	&emsp;&emsp;&emsp;0.25 </small>
                      </div>
                  </div>
                </div>
            </div>
            <div class="accordion" id="accordion">
                <form class="form-group" action="" method="post">
                {% csrf_token %}
                <div class="card">
                  <div class="card-header text-center" id="headingOne">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" type="button">
                        Type 1: Basin Irrigation System
                      </button>
                    </h5>
                  </div>
                  <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                    <div class="card-body">
                      <div class="row">
                        <div class="col">{{ irrigation_form.basin_length|as_crispy_field}}</div>
                    </div>
                    </div>
                  </div>
                </div>
                  <div class="card">
                    <div class="card-header text-center" id="headingTwo">
                      <h5 class="mb-0">
                        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" type="button">
                          Type 2: Border Irrigation System
                        </button>
                      </h5>
                    </div>
                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                    <div class="card-body">
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header text-center" id="headingThree">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree" type="button">
                        Type 3: Furrow Irrigation System
                      </button>
                    </h5>
                  </div>
                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">{{ irrigation_form.bln_furrow_type|as_crispy_field}}</div>
                        </div>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header text-center" id="headingFour">
                    <h5 class="mb-0">
                      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour" type="button">
                        Type 4: Sprinkler Irrigation System
                      </button>
                    </h5>
                  </div>
                <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
                      <div class="card-body">
                        <div class="row">
                            <div class="col">{{ irrigation_form.lateral_spacing|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.sprinkler_spacing|as_crispy_field }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-header text-center" id="headingFive">
                      <h5 class="mb-0">
                        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive" type="button">
                          Type 5: Sprinkler Irrigation System
                        </button>
                      </h5>
                    </div>
                  <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordion">
                      <div class="card-body">
                        <div class="row">
                            <div class="col">{{ irrigation_form.bln_single_lateral|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.emitters_per_plant|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.emitter_spacing|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.plant_spacing|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.row_spacing|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.wetted_dia|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                            <div class="col">{{ irrigation_form.EU|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                          <div class="col">{{ irrigation_form.bln_ii|as_crispy_field }}</div>
                        </div>
                        <div class="row">
                          <div class="col"></div>
                          <div class="col-8">{{ irrigation_form.irrigation_interval|as_crispy_field }}</div>
                        </div>
                    </div>
                  </div>
              </div>
              <br>
              <div class="text-center">
              <button type="button" class="btn btn-success"><a href={% url 'waiss:new_soil' %} style="color:white">Previous</a></button>
              <input type="submit" value="Submit" class="btn btn-info">
              <button type="button" class="btn btn-success"><a href={% url 'waiss:new_fieldunit' %} style="color:white">Next</a></button>
              </div>
            </form>
          </div>
        </div>  
      </div> 
    </div> 
</div>
<br>
{% endblock %}


{% block bottom_script_block %}
{% endblock %}
