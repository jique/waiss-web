{% extends 'waissapp/index.html'%}
{% load static %}
{% load crispy_forms_tags %}

{% block top_script_block %}
{% endblock %}

{% block main_block %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item" breadcrumb-item active" aria-current="page">Database</li>
        <li class="breadcrumb-item active" aria-current="page">New Drip</li>
    </ol>
</nav>
<div class="row">
    <div class="col-lg-7 mx-auto">
        <div class="card mb-4">
            <div class="card-body">
                <form class="form-group" action="{% url 'waiss:add_drip' %}" method="post">
                {% csrf_token %}
                <div class="row">
                    <div class="col">{{ irrigation_form.name|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.bln_single_lateral|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.emitters_per_plant|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.emitter_spacing|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.plant_spacing|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.row_spacing|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.wetted_dia|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.EU|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.irrigation_interval|as_crispy_field }}</div>
                </div>
                <div class="row">
                    <div class="col">{{ irrigation_form.errors }}</div>
                </div>
                    <input type="submit" value="Submit" class="btn btn-info btn-block">
                </form>
            </div>
        </div>
    </div>
    <div class="col-lg-5 mx-auto">
        <div class="card mb-4">
            <img class="card-img-top" src={% static "theme/plant spacing.png" %} alt="Card image cap">
            <div class="card-body">
                <div class="row">
                    <div class=col>
                        <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#irrigationinterval">
                            Irrigation Interval <br> Calculator
                        </button>
                    </div>
                    <div class=col>
                        <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#uniformitycoefficient">
                            Design Emission Uniformity<br> Calculator
                        </button>
                    </div>
                </div>
                <small>*Calculators that can help you get missing parameters.</small>
            </div>
        </div>
    </div>
</div>

<!-- Irrigation Interval Modal -->
<div class="modal fade" id="irrigationinterval" tabindex="-1" role="dialog" aria-labelledby="irrigationinterval" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Irrigation Interval Calculator</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form class="form-group" action="">
                <label for="fname">Percent Sahaded Area (%):</label>
                <input type="text" id="fname" name="fname"><br><br>
                <label for="lname">Peak Evapotranspiration (mm/day)</label>
                <input type="text" id="lname" name="lname"><br><br>
                *net depth result to be used here... pano kaya*
                <input type="submit" value="Compute">
              </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Copy Result</button>
        </div>
      </div>
    </div>
  </div>
<!-- EU Modal -->
<div class="modal fade" id="uniformitycoefficient" tabindex="-1" role="dialog" aria-labelledby="uniformitycoefficient" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Design Emission Uniformity Calculator</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form class="form-group" action="">
                <label for="fname">Average Emitter Discharge (lps):</label>
                <input type="text" id="fname" name="fname"><br><br>
                <label for="lname">Minimum Emitter Discharge (lps):</label>
                <input type="text" id="lname" name="lname"><br><br>
                <label for="lname">Emitter Coefficient:</label>
                <input type="text" id="lname" name="lname"><br><br>
                <input type="submit" value="Compute">
              </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Copy Result</button>
        </div>
      </div>
    </div>
</div>
{% endblock %}

{% block bottom_script_block %}
$('#irrigationinterval').modal(options)
$('#uniformitycoefficient').modal(options)
{% endblock %}
    